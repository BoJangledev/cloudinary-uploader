<!DOCTYPE html>
<html>
  <head>
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
  </head>
  <body>
    <button id="upload_widget">Upload Image</button>
    <script type="text/javascript">
      var myWidget = cloudinary.createUploadWidget({
        cloudName: 'YOUR_CLOUD_NAME',
        uploadPreset: 'YOUR_UPLOAD_PRESET'
      }, (error, result) => {
        if (!error && result && result.event === "success") {
          alert("Upload successful! Public ID: " + result.info.public_id);
          // Optionally redirect to Glide with a query param
        }
      });

      document.getElementById("upload_widget").addEventListener("click", function () {
        myWidget.open();
      }, false);
    </script>
  </body>
</html>
