<!DOCTYPE html>
<html>
  <head>
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
  </head>
  <body>
    <button id="upload_widget">Upload Image</button>

    <script type="text/javascript">
      const myWidget = cloudinary.createUploadWidget({
        cloudName: 'dg3xhjyeh', 
        uploadPreset: 'glide_uploader'
      }, (error, result) => {
        if (!error && result && result.event === "success") {
          const publicId = result.info.public_id;

          // ðŸ‘‡ Redirect to your Glide app with public_id as query param
          window.location.href = `https://mockmedia.glide.page/?public_id=${encodeURIComponent(publicId)}`;
        }
      });

      document.getElementById("upload_widget").addEventListener("click", function () {
        myWidget.open();
      }, false);
    </script>
  </body>
</html>
